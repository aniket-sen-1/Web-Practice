<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Promise</title>
  </head>
  <body>
    <script>
      console.log("script start");
      const bucket = ["coffee", "chips", "vegetables", "salt", "rice"];
      const friedRicePromise = new Promise((resolve, reject) => {
        console.log("hi");
        if (
          bucket.includes("vegetables") &&
          bucket.includes("salt") &&
          bucket.includes("rice")
        ) {
          // console.log("hi")
          resolve({ value: "friedrice" });
        } else {
          reject("could not do it"); // if you didn't catch it then you will get an error on console
        }
      });
      // // consume
      // // how to consume
      friedRicePromise
        .then((myrice) => {
          console.log(myrice);
        })
        .catch((error) => {
          console.log(error);
        });

      console.log("script End");

      /// -- function returning promise -- ///

      console.log("script start");
      function friedRicePromise(a) {
        const bucket = ["coffee", "chips", "vegetables", "salt", "rice"];
        return new Promise((resolve, reject) => {
          if (
            bucket.includes("vegetables") &&
            bucket.includes("salt") &&
            bucket.includes("rice")
          ) {
            console.log(a);
            resolve({ value: "friedrice" });
          } else {
            reject("could not do it"); // if you didn't catch it then you will get an error on console
          }
        });
      }

      friedRicePromise(9)
        .then((myrice) => {
          console.log("then", myrice);
        })
        .catch((error) => {
          console.log(error);
        });

      //     console.log("script end");

      /// -- function returning promise -- ///
      // promise && setTimeout
      // I want to resolve / reject promise after 2 seconds

      //   function myPromise() {
      //     return new Promise((resolve, reject) => {
      //       setTimeout(() => {
      //         if(true){
      //           resolve()
      //         }
      //         else{
      //           reject()
      //         }

      //       }, 2000);
      //   })
      // }

      // myPromise()
      //   .then(() => { console.log("resolved") })
      //   .catch(() => { console.log("rejected") })
    </script>
  </body>
</html>
