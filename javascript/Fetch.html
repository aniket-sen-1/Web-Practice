<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fetch</title>
  </head>
  <body>
    <script>
      const URL = "https://jsonplaceholder.typicode.com/posts";

      // const whatIsThis = fetch(URL) // PromiseÂ {<pending>}
      // console.log(whatIsThis)

      // fetch(URL)
      //   .then((response) => {
      //     if (response.ok) {
      //       return response.json();
      //     } else {
      //       throw new error("something went wrong"); // reject throw hoga jis se .cathc run hoga
      //     }
      //   })
      //   .then((data) => {
      //     console.log(data);
      //     for (i of data) {
      //       console.log(i.title);
      //     }
      //   })
      //   .catch((error) => {
      //     // this is like onerror // network error
      //     console.log("inside catch");
      //     console.log(error);
      //   });

      //POST

      fetch(URL, {
        method: "POST",
        body: JSON.stringify({
          title: "foo",
          body: "bar",
          userId: 1,
        }),
        headers: {
          "Content-type": "application/json; charset=UTF-8",
        },
      })
        .then((response) => {
          // console.log(response.json())
          if (response.ok) {
            return response.json();
          } else {
            throw new error("something went wrong"); // reject throw hoga jis se .cathc run hoga
          }
        })
        .then((data) => {
          console.log(data);
        })
        .catch((error) => {
          // this is like onerror // network error
          console.log("inside catch");
          console.log(error);
        });
    </script>
  </body>
</html>
